transformation models.implicitimports.implicitimports;
import models.implicitimports.q2;  
import models.implicitimports.q1;  
metamodel 'http://www.eclipse.org/emf/2002/Ecore';
 
mapping main(in model: ecore::EPackage): ecore::EPackage { 
	init{  
		var classes:= model.allInstances(ecore::EClass);
	}
    object {
    	eClassifiers += classes->collect(c|c2c(c));
	}
}   
    
mapping c2c(in clz : ecore::EClass) : ecore::EClass {
	init {
		var t := qq1(clz); 
	}          
	name:=clz.name;
	eAnnotations += object ecore::EAnnotation {
		source := q2(clz);
	};
}