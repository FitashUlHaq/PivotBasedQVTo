modeltype ECORE uses 'http://www.eclipse.org/emf/2002/Ecore';


transformation t(
	in inModel : ECORE, out outModel : ECORE);


main() {
	inModel.objects()[EPackage][name = 'a'] -> map ab();
}     

mapping EPackage::ab() : EPackage {
	name := self.name + 'b';
	var eClasses := self.eClassifiers[EClass];
	eClassifiers += eClasses[e | e.name != 'a'] -> map c2c();
}

mapping EClass::c2c() : EClass {
	name := self.name + '_';
}
